# 🐾 Feed 추천 알고리즘 (하이브리드 방식)
 
## 1. 개요

- **사용 목적:** 사용자별로 맞춤화된 피드(게시글) 리스트를 추천
- **기반:** 더미 데이터 및 하드코딩된 사용자 선호 정보를 활용한 테스트/개발 구조  
- **구현 구조:** 하이브리드 방식 (콘텐츠 기반 + 협업 필터링 + 인기 점수)

---

## 2. 전체 동작 흐름

1. **전체 피드(더미 데이터) 조회**
   - DB가 아닌, resources/data 등에서 100개 내외의 더미 피드 데이터를 모두 불러옴

2. **사용자별 추천 점수 산출**
   - 각 피드에 대해, 아래 기준으로 개별 점수 계산

---

## 3. 추천 점수 계산 공식

### 3.1 콜드 스타트 판단

- 사용자의 행동 데이터(좋아요/댓글 등)가 3개 미만이면 콜드 스타트로 간주
- (현재는 테스트용으로 항상 콜드 스타트로 동작)

---

### 3.2 콘텐츠 기반 점수 (`contentScore`)
- **사용자 선호 태그/카테고리** (임시 하드코딩)와
- 피드의 태그/카테고리와의 겹침 정도로 점수 부여
    - 태그 겹침 개수 / 전체 선호 태그 개수
    - 카테고리 일치 여부 (일치 시 1점, 불일치 0점)
    - 예: `0.7 * 태그점수 + 0.3 * 카테고리점수`

---

### 3.3 협업 필터링 점수 (`cfScore`)
- 사용자가 과거 좋아요한 태그 리스트(임시 하드코딩)와
- 피드 태그의 겹침 정도로 점수 산출

---

### 3.4 인기 점수 (`popularScore`)
- 피드의 조회수/좋아요수를 각각 정규화(0~1)
- 가중 합산(예: 좋아요 70% + 조회수 30%)

---

### 3.5 최종 점수 (하이브리드)
- **콜드스타트 유저:**  
  `finalScore = 0.8 * contentScore + 0.2 * popularScore`
- **일반 유저:**  
  `finalScore = 0.6 * contentScore + 0.4 * cfScore`

---

## 4. 추천 피드 리스트 생성

- 모든 피드에 대해 위 점수를 계산
- 점수 내림차순으로 정렬
- 페이지네이션(예: 20개씩) 잘라서 반환

---


콜드 스타트 분기

행동 데이터 없는 신규 사용자에 대해 콘텐츠 기반 + 인기 점수 반영

콘텐츠 기반 추천 점수

(지금은 하드코딩된 선호 태그/카테고리)

나중엔 사용자 프로필/로그에서 동적으로 받아오게 확장 

협업 필터링 점수

(지금은 하드코딩된 likedTags)

나중엔 실제 유저의 행동 로그에서 좋아요, 조회, 댓글 등 받아와 비교

피드 인기 점수

(지금은 maxView, maxLike 고정값)

나중엔 DB/전체 피드에서 동적으로 최대값·상위 1% 값 계산해 적용 

가중치 기반 하이브리드 점수

실전에서 콘텐츠/협업/인기 각 비중 조정 쉽게 개선 가능

페이지네이션 및 점수순 정렬

점수 높은 순으로 잘라서 반환 (서비스/컨트롤러/프론트 연결 )